plugins {
    id "me.tatarka.retrolambda" version "3.7.0"
    id "java"
    id "maven-publish"
    id 'idea'

}

sourceCompatibility = 1.8
targetCompatibility = 1.8

group = 'io.netifi.sdk'
version = '0.8.0-SNAPSHOT'

repositories {
    mavenLocal()
    maven { url 'http://artifactory.netifiinc.com:8081/artifactory/netifi-all/' }
}

dependencies {
    compile 'com.octo.reactive.audit:reactive-audit-lib:0.8'
    compile 'io.netifi.nrqp.frames:netifi-edge-frames:0.8.0-SNAPSHOT'

    compile 'io.rsocket:rsocket-load-balancer:0.9.12'
    compile 'io.rsocket:rsocket-transport-netty:0.9.12'

    compile 'io.netifi.auth:core:0.0.2-SNAPSHOT'

    testCompile 'junit:junit:4.10'

    testCompile 'org.apache.logging.log4j:log4j-api:2.8.2'
    testCompile 'org.apache.logging.log4j:log4j-core:2.8.2'
    testCompile 'org.apache.logging.log4j:log4j-slf4j-impl:2.8.2'
    testCompile 'io.rsocket:rsocket-transport-local:0.9.12'

}

compileJava {
    options.warnings = true
    options.deprecation = true
    options.compilerArgs += ["-Xlint:unchecked"]
}

task sourceJar(type: Jar) {
    from sourceSets.main.allJava
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java

            artifact sourceJar {
                classifier "sources"
            }
        }
    }

    repositories {
        maven {
            // change to point to your repo, e.g. http://my.org/repo
            /*credentials {
                        username 'jenkins'
                        password project.findProperty("password") ?: ""
                    }*/
            url "http://artifactory.netifiinc.com:8081/artifactory/netifi-repo-snapshot/"
        }
    }
}
